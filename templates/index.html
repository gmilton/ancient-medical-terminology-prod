<!DOCTYPE html>
<html lang=en-UK>
<head>
  <title>Ancient Medical Terminology</title>
  <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/styles.css') }}">
  <script src="project.py"></script>
  <link href="https://fonts.googleapis.com/css?family=Lobster|Raleway" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <meta charset="UTF-8">
  <meta name="author" content="Grace Milton">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<!-- FIX ALERT -->
<body="home">
  <br><br>
  <!--<header><img id="profile_photo" src="scotland.jpg" alt="scotland.jpg"></a></header>-->
  <h1 id="name"><abbr title="G$">Greek and Latin Medical Terminology 'R' Us</abbr></h1>
  <p>Find a term, find a meaning, or parse through medical lingo.</p>
  <br>
  <form class="example">
    <input type="text" placeholder="Search.." name="search" id="search_bar">
    <br/>
    <!--<a href="/terms" id="terms"><button class='btn btn-terms' value="terms">Search Terms</button></a>
    <a href="/definitions" id="definitions"><button class='btn btn-definitions' value='definitions'>Search Definitions</button></a>-->
    <button class='btn btn-terms' value="terms">Search Terms</button>
    <button class='btn btn-definitions' value='definitions'>Search Definitions</button>
  </form>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
  <br><br><br>
</body>
<script>
// Only run what comes next *after* the page has loaded
addEventListener("DOMContentLoaded", function() {
  // Grab all of the elements with a class of command
  // (which all of the buttons we just created have)
  var searchButtons = document.querySelectorAll(".btn");
  for (var i=0, l=searchButtons.length; i<l; i++) {
    var button = searchButtons[i];
    // For each button, listen for the "click" event
    button.addEventListener("click", function(e) {
      // When a click happens, stop the button
      // from submitting our form (if we have one)
      e.preventDefault();

      var clickedButton = e.target;
      var search = clickedButton.value;
      search += ";"
      search += document.getElementById("search_bar").value
      console.log(document.getElementById("search_bar").name)
      console.log(document.getElementById("search_bar").value)

      // Now we need to send the data to our server
      // without reloading the page - this is the domain of
      // AJAX (Asynchronous JavaScript And XML)
      // We will create a new request object
      // and set up a handler for the response
      var request = new XMLHttpRequest();
      request.onload = function() {
          // We could do more interesting things with the response
          // or, we could ignore it entirely
          console.log(request.responseText)
          console.log(document.getElementById("search_bar").name)
          console.log(document.getElementById("search_bar").value)
          alert(request.responseText);
      };
      // We point the request at the appropriate command
      request.open("GET", "/" + search, true);
      // and then we send it off
      request.send();
    });
  }
}, true);
</script>
</html>
